@import gws
@import gws.lib.osx

@code

uid = ARGS.params.get('prj')
cx_paths = list(gws.lib.osx.find_files(gws.c.APP_DIR, r'_demo/.+?\.cx$'))

for path in cx_paths:
    src = gws.u.read_file(path)
    if f'uid "{uid}"' in src:
        ARGS.src = src
        ARGS.path = path.replace(gws.c.APP_DIR, '')
        break
else:
    return gws.ContentResponse(mime='text/plain', content='not found')

@end

<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="/demos/project.css"/>
</head>
<body>
<div class="config">
    <h1>Project configuration</h1>
    <pre>{src | html}</pre>
    <p><small><a href="https://github.com/gbd-consult/gbd-websuite/tree/master/app{path}">View on Github</a></small></p>
</body>
</html>
